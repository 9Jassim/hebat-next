{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/api.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst Client = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\r\n  withCredentials: true,\r\n})\r\n\r\nexport default Client\r\n"],"names":[],"mappings":";;;;;;AAEA,MAAM,SAAS,mIAAM,MAAM,CAAC;IAC1B,SAAS,QAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,iBAAiB;AACnB;uCAEe"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Products.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState } from \"react\"\r\nimport { useSearchParams, useParams } from \"next/navigation\"\r\nimport Link from \"next/link\"\r\nimport Client from \"@/lib/api\"\r\nimport Head from \"next/head\"\r\n\r\n// helper ‚Äî make clean slugs\r\nconst slugify = str =>\r\n  str\r\n    ?.toLowerCase()\r\n    .replace(/&/g, \"and\")\r\n    .replace(/[^a-z0-9\\s-]/g, \"\")\r\n    .trim()\r\n    .replace(/\\s+/g, \"-\") || \"\"\r\n\r\n// helper ‚Äî reverse slug back to readable text\r\nconst deslugify = str =>\r\n  str\r\n    ?.replace(/-/g, \" \")\r\n    .replace(/\\band\\b/g, \"&\")\r\n    .replace(/\\b\\w/g, c => c.toUpperCase()) || \"\"\r\n\r\nexport default function Products() {\r\n  const searchParams = useSearchParams()\r\n  const params = useParams()\r\n\r\n  // üîç Inputs\r\n  const selectedCategoryFromQuery = searchParams.get(\"category\")\r\n  const searchQuery = searchParams.get(\"search\")?.trim() || \"\"\r\n  const selectedCategoryFromPath = params?.category // e.g. \"sports-and-outdoors\"\r\n\r\n  // üß† Unified category (path has priority)\r\n  const selectedCategory = selectedCategoryFromPath || selectedCategoryFromQuery\r\n\r\n  const [products, setProducts] = useState([])\r\n  const [showing, setShowing] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [displayCategory, setDisplayCategory] = useState(\"All Products\")\r\n\r\n  // üîß normalize text for consistent comparison\r\n  const normalize = str =>\r\n    str?.toLowerCase().replace(/&/g, \"and\").replace(/\\s+/g, \"\").normalize(\"NFKC\").trim() || \"\"\r\n\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      try {\r\n        const res = await Client.get(\"/products\")\r\n        const fetched = res.data.products || []\r\n        setProducts(fetched)\r\n\r\n        // ‚úÖ Case 1: Category filter (by slug or query)\r\n        if (selectedCategory) {\r\n          const normalizedQuery = normalize(selectedCategory)\r\n          const filtered = fetched.filter(p => slugify(p.category?.name) === normalizedQuery)\r\n          setShowing(filtered)\r\n          setDisplayCategory(deslugify(selectedCategory))\r\n        }\r\n\r\n        // ‚úÖ Case 2: Search filter\r\n        else if (searchQuery) {\r\n          const query = searchQuery.toLowerCase()\r\n          const filtered = fetched.filter(\r\n            p =>\r\n              p.name.toLowerCase().includes(query) ||\r\n              p.model?.toLowerCase().includes(query) ||\r\n              p.barcode?.toLowerCase().includes(query)\r\n          )\r\n          setShowing(filtered)\r\n          setDisplayCategory(`Search results for \"${searchQuery}\"`)\r\n        }\r\n\r\n        // ‚úÖ Case 3: Default (all products)\r\n        else {\r\n          setShowing(fetched)\r\n          setDisplayCategory(\"All Products\")\r\n        }\r\n      } catch (err) {\r\n        console.error(\"‚ùå Error loading products:\", err)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchProducts()\r\n  }, [selectedCategory, searchQuery])\r\n\r\n  if (loading)\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-[60vh] text-gray-700\">\r\n        Loading products...\r\n      </div>\r\n    )\r\n\r\n  // ‚úÖ Breadcrumb JSON-LD\r\n  const breadcrumbJsonLd = {\r\n    \"@context\": \"https://schema.org\",\r\n    \"@type\": \"BreadcrumbList\",\r\n    itemListElement: [\r\n      { \"@type\": \"ListItem\", position: 1, name: \"Home\", item: \"https://hebat.com/\" },\r\n      { \"@type\": \"ListItem\", position: 2, name: \"Products\", item: \"https://hebat.com/products\" },\r\n      ...(selectedCategory\r\n        ? [\r\n            {\r\n              \"@type\": \"ListItem\",\r\n              position: 3,\r\n              name: displayCategory,\r\n              item: `https://hebat.com/products/${encodeURIComponent(\r\n                selectedCategory.toLowerCase().replace(/\\s+/g, \"-\")\r\n              )}`,\r\n            },\r\n          ]\r\n        : searchQuery\r\n          ? [\r\n              {\r\n                \"@type\": \"ListItem\",\r\n                position: 3,\r\n                name: `Search: ${searchQuery}`,\r\n                item: `https://hebat.com/products?search=${encodeURIComponent(searchQuery)}`,\r\n              },\r\n            ]\r\n          : []),\r\n    ],\r\n  }\r\n\r\n  // ‚úÖ SEO\r\n  const pageTitle =\r\n    selectedCategory || searchQuery ? `${displayCategory} | Hebat` : \"All Products | Hebat\"\r\n  const pageDescription = selectedCategory\r\n    ? `Explore ${displayCategory} products from Hebat ‚Äî premium quality and top performance.`\r\n    : searchQuery\r\n      ? `Search results for \"${searchQuery}\" from Hebat ‚Äî explore our premium range.`\r\n      : \"Explore all premium products from Hebat ‚Äî trusted quality and style.\"\r\n\r\n  return (\r\n    <>\r\n      <Head>\r\n        <title>{pageTitle}</title>\r\n        <meta name=\"description\" content={pageDescription} />\r\n        <script\r\n          type=\"application/ld+json\"\r\n          dangerouslySetInnerHTML={{ __html: JSON.stringify(breadcrumbJsonLd) }}\r\n        />\r\n      </Head>\r\n\r\n      <div className=\"flex flex-col items-center justify-center pt-10 px-4 sm:px-6 lg:px-8 w-full \">\r\n        {/* Breadcrumb */}\r\n        <div className=\"w-full max-w-6xl mb-2 text-sm text-gray-500\">\r\n          <nav className=\"flex items-center space-x-2\">\r\n            <Link href=\"/\" className=\"hover:text-yellow-600 font-medium\">\r\n              Home\r\n            </Link>\r\n            <span>/</span>\r\n            <Link href=\"/products\" className=\"hover:text-yellow-600 font-medium\">\r\n              Products\r\n            </Link>\r\n            {(selectedCategory || searchQuery) && (\r\n              <>\r\n                <span>/</span>\r\n                <span className=\"text-gray-800 font-semibold capitalize\">{displayCategory}</span>\r\n              </>\r\n            )}\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Header */}\r\n        <div className=\"w-full max-w-6xl mb-3\">\r\n          <h1 className=\"text-2xl sm:text-3xl font-bold text-yellow-500 mb-2 capitalize\">\r\n            {displayCategory}\r\n          </h1>\r\n          <p className=\"text-gray-700 text-sm font-medium text-left\">\r\n            Showing {showing.length} product{showing.length !== 1 && \"s\"}\r\n          </p>\r\n        </div>\r\n\r\n        {/* Product Grid */}\r\n        <div className=\"gap-3 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 w-full max-w-6xl\">\r\n          {showing.length > 0 ? (\r\n            showing.map(product => (\r\n              <Link\r\n                href={`/products/${slugify(product.category?.name)}/${product.slug}`}\r\n                key={product.slug}\r\n              >\r\n                <div className=\"group bg-white rounded-xl overflow-hidden border border-gray-200 shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer flex flex-col h-[340px]\">\r\n                  {/* Image Frame */}\r\n                  <div className=\"p-3 flex-shrink-0 h-44 sm:h-48 md:h-52\">\r\n                    <div className=\"relative w-full h-full rounded-xl border-2 border-gray-100 bg-white overflow-hidden shadow-md flex items-center justify-center\">\r\n                      <img\r\n                        src={product.image?.s3Url || \"/hebat_product_fill.png\"}\r\n                        alt={product.name}\r\n                        className=\"object-cover w-full h-full transition-transform duration-300 group-hover:scale-105\"\r\n                      />\r\n                      <div className=\"absolute inset-0 rounded-xl pointer-events-none\"></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {/* Product Info */}\r\n                  <div className=\"flex flex-col justify-between px-3 pb-3 text-left flex-grow\">\r\n                    <h5 className=\"text-sm sm:text-base font-semibold text-gray-900 leading-snug mb-1 group-hover:text-yellow-500 transition-colors line-clamp-2\">\r\n                      {product.name}\r\n                    </h5>\r\n                    <div className=\"text-xs text-gray-600 space-y-[2px]\">\r\n                      <p>Model: {product.model || \"N/A\"}</p>\r\n                      <p>Barcode: {product.barcode || \"N/A\"}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </Link>\r\n            ))\r\n          ) : (\r\n            <p className=\"text-gray-600 text-sm text-center\">\r\n              {searchQuery\r\n                ? `No products found matching \"${searchQuery}\".`\r\n                : \"No products found in this category.\"}\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 380, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}