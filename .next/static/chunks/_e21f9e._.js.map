{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/api.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst Client = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\r\n  withCredentials: true,\r\n})\r\n\r\nexport default Client\r\n"],"names":[],"mappings":";;;;;;;AAEA,MAAM,SAAS,sIAAM,MAAM,CAAC;IAC1B,SAAS,qKAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,iBAAiB;AACnB;uCAEe"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/auth.js"],"sourcesContent":["import Client from \"@/lib/api\"\r\n\r\nexport const LogInUser = async data => {\r\n  try {\r\n    const res = await Client.post(\"/auth/signin\", data, { withCredentials: true })\r\n    return res.data.user || null\r\n  } catch (error) {\r\n    console.error(\"Login error:\", error?.response?.data || error.message)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const CheckSession = async () => {\r\n  try {\r\n    const res = await Client.get(\"/auth/session\", { withCredentials: true })\r\n    return res.data || null\r\n  } catch (error) {\r\n    console.error(\"Session check error:\", error?.response?.data || error.message)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const LogOutUser = async () => {\r\n  try {\r\n    await Client.post(\"/auth/signout\", {}, { withCredentials: true })\r\n    return true\r\n  } catch (error) {\r\n    console.error(\"Logout error:\", error?.response?.data || error.message)\r\n    return false\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,YAAY,OAAM;IAC7B,IAAI;QACF,MAAM,MAAM,MAAM,kHAAO,IAAI,CAAC,gBAAgB,MAAM;YAAE,iBAAiB;QAAK;QAC5E,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB,OAAO,UAAU,QAAQ,MAAM,OAAO;QACpE,OAAO;IACT;AACF;KARa;AAUN,MAAM,eAAe;IAC1B,IAAI;QACF,MAAM,MAAM,MAAM,kHAAO,GAAG,CAAC,iBAAiB;YAAE,iBAAiB;QAAK;QACtE,OAAO,IAAI,IAAI,IAAI;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB,OAAO,UAAU,QAAQ,MAAM,OAAO;QAC5E,OAAO;IACT;AACF;MARa;AAUN,MAAM,aAAa;IACxB,IAAI;QACF,MAAM,kHAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG;YAAE,iBAAiB;QAAK;QAC/D,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB,OAAO,UAAU,QAAQ,MAAM,OAAO;QACrE,OAAO;IACT;AACF;MARa"}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 75, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/context/AuthContext.js"],"sourcesContent":["\"use client\"\r\nimport { createContext, useContext, useState, useEffect } from \"react\"\r\nimport { CheckSession, LogOutUser } from \"@/lib/auth\"\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  // üîÅ Automatically check session on load\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      try {\r\n        const session = await CheckSession()\r\n        console.log(\"context :\", session)\r\n        if (session?.user) {\r\n          setUser(session.user)\r\n        } else {\r\n          setUser(null)\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Session check failed:\", err)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    fetchSession()\r\n  }, [])\r\n\r\n  // üö™ Logout handler\r\n  const logout = async () => {\r\n    try {\r\n      await LogOutUser() // backend clears cookie\r\n      setUser(null)\r\n    } catch (err) {\r\n      console.error(\"Logout failed:\", err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser, logout, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;AAIA,MAAM,4BAAc;AAEb,SAAS,aAAa,KAAY;QAAZ,EAAE,QAAQ,EAAE,GAAZ;;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,mKAAS;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,mKAAS;IAEvC,yCAAyC;IACzC,oKAAU;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,UAAU,MAAM;gBACtB,QAAQ,GAAG,CAAC,aAAa;gBACzB,IAAI,SAAS,MAAM;oBACjB,QAAQ,QAAQ,IAAI;gBACtB,OAAO;oBACL,QAAQ;gBACV;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;YACzC,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,oBAAoB;IACpB,MAAM,SAAS;QACb,IAAI;YACF,MAAM,wHAAa,wBAAwB;;YAC3C,QAAQ;QACV,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,qBACE,iLAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAQ;QAAQ;kBAC3D;;;;;;AAGP;GAvCgB;KAAA;AAyCT,SAAS;;IACd,OAAO,qKAAW;AACpB;IAFgB"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/app/admin/page.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport Link from \"next/link\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport { LogInUser } from \"@/lib/auth\"\r\nimport { useRef, useState } from \"react\"\r\nimport { useAuth } from \"@/context/AuthContext\"\r\n\r\nexport default function Admin() {\r\n  const router = useRouter()\r\n  const { setUser } = useAuth()\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  const emailRef = useRef(null)\r\n  const passwordRef = useRef(null)\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n    const email = emailRef.current?.value\r\n    const password = passwordRef.current?.value\r\n\r\n    setLoading(true)\r\n    try {\r\n      const payload = await LogInUser({ email, password })\r\n\r\n      if (payload) {\r\n        setUser(payload)\r\n        router.push(\"/products\")\r\n      } else {\r\n        if (passwordRef.current) passwordRef.current.value = \"\"\r\n        alert(\"Invalid email or password\")\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Login failed:\", error)\r\n      alert(\"Something went wrong. Please try again.\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section className=\"flex flex-col items-center px-4 py-16 min-h-[70vh]\">\r\n      <div className=\"w-full max-w-md bg-yellow-500 rounded-2xl shadow-2xl p-8 space-y-6 border border-yellow-400\">\r\n        {/* Title */}\r\n        <div className=\"flex flex-col items-center space-y-2\">\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Admin Login</h1>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <form onSubmit={handleSubmit} className=\"space-y-5\">\r\n          <div>\r\n            <label htmlFor=\"email\" className=\"block mb-1 text-sm font-medium text-gray-900\">\r\n              Email\r\n            </label>\r\n            <input\r\n              ref={emailRef}\r\n              type=\"email\"\r\n              id=\"email\"\r\n              placeholder=\"admin@hebat.com\"\r\n              className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-black focus:border-black block w-full p-2.5\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <div>\r\n            <label htmlFor=\"password\" className=\"block mb-1 text-sm font-medium text-gray-900\">\r\n              Password\r\n            </label>\r\n            <input\r\n              ref={passwordRef}\r\n              type=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n              className=\"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-black focus:border-black block w-full p-2.5\"\r\n              required\r\n            />\r\n          </div>\r\n\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"w-full bg-black hover:bg-gray-800 text-white font-medium rounded-lg text-sm px-5 py-2.5 text-center transition-all duration-200\"\r\n          >\r\n            {loading ? \"Signing in...\" : \"Sign in\"}\r\n          </button>\r\n        </form>\r\n\r\n        <div className=\"text-center pt-2\">\r\n          <Link href=\"/\" className=\"text-sm font-medium text-gray-900 hover:underline\">\r\n            ‚Üê Back to Home\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;;;;;AAQe,SAAS;;IACtB,MAAM,SAAS;IACf,MAAM,EAAE,OAAO,EAAE,GAAG;IACpB,MAAM,CAAC,SAAS,WAAW,GAAG,mKAAS;IAEvC,MAAM,WAAW,iKAAO;IACxB,MAAM,cAAc,iKAAO;IAE3B,MAAM,eAAe,OAAM;QACzB,EAAE,cAAc;QAChB,MAAM,QAAQ,SAAS,OAAO,EAAE;QAChC,MAAM,WAAW,YAAY,OAAO,EAAE;QAEtC,WAAW;QACX,IAAI;YACF,MAAM,UAAU,MAAM,qHAAU;gBAAE;gBAAO;YAAS;YAElD,IAAI,SAAS;gBACX,QAAQ;gBACR,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,IAAI,YAAY,OAAO,EAAE,YAAY,OAAO,CAAC,KAAK,GAAG;gBACrD,MAAM;YACR;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;YAC/B,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,iLAAC;QAAQ,WAAU;kBACjB,cAAA,iLAAC;YAAI,WAAU;;8BAEb,iLAAC;oBAAI,WAAU;8BACb,cAAA,iLAAC;wBAAG,WAAU;kCAAmC;;;;;;;;;;;8BAInD,iLAAC;oBAAK,UAAU;oBAAc,WAAU;;sCACtC,iLAAC;;8CACC,iLAAC;oCAAM,SAAQ;oCAAQ,WAAU;8CAA+C;;;;;;8CAGhF,iLAAC;oCACC,KAAK;oCACL,MAAK;oCACL,IAAG;oCACH,aAAY;oCACZ,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,iLAAC;;8CACC,iLAAC;oCAAM,SAAQ;oCAAW,WAAU;8CAA+C;;;;;;8CAGnF,iLAAC;oCACC,KAAK;oCACL,MAAK;oCACL,IAAG;oCACH,aAAY;oCACZ,WAAU;oCACV,QAAQ;;;;;;;;;;;;sCAIZ,iLAAC;4BACC,MAAK;4BACL,UAAU;4BACV,WAAU;sCAET,UAAU,kBAAkB;;;;;;;;;;;;8BAIjC,iLAAC;oBAAI,WAAU;8BACb,cAAA;wBAAM,MAAK;wBAAI,WAAU;kCAAoD;;;;;;;;;;;;;;;;;;;;;;AAOvF;GAvFwB;;;;;;KAAA"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}