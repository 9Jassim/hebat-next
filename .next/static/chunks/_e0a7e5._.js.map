{
  "version": 3,
  "sections": [
    {"offset": {"line": 5, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/api.js"],"sourcesContent":["import axios from \"axios\"\r\n\r\nconst Client = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\",\r\n  withCredentials: true,\r\n})\r\n\r\nexport default Client\r\n"],"names":[],"mappings":";;;;;;;AAEA,MAAM,SAAS,sIAAM,MAAM,CAAC;IAC1B,SAAS,qKAAQ,GAAG,CAAC,mBAAmB,IAAI;IAC5C,iBAAiB;AACnB;uCAEe"}},
    {"offset": {"line": 17, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/EditProductForm.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useRef, useState } from \"react\"\r\nimport Client from \"@/lib/api\"\r\n\r\nexport default function EditProductForm({ product, setProduct, handleCloseE }) {\r\n  const [categories, setCategories] = useState([])\r\n  const [newCategory, setNewCategory] = useState(false)\r\n  const [selectedCategories, setSelectedCategories] = useState([]) // ‚úÖ multiple selection\r\n  const categoryRef = useRef(null)\r\n\r\n  // Form refs\r\n  const modelRef = useRef(null)\r\n  const nameRef = useRef(null)\r\n  const descriptionRef = useRef(null)\r\n  const manualRef = useRef(null)\r\n\r\n  // ‚úÖ Fetch categories on mount\r\n  useEffect(() => {\r\n    const getCategories = async () => {\r\n      try {\r\n        const res = await Client.get(\"/products/category\", { withCredentials: true })\r\n        setCategories(res.data.categories || [])\r\n      } catch (err) {\r\n        console.error(\"Failed to fetch categories:\", err)\r\n      }\r\n    }\r\n    getCategories()\r\n  }, [])\r\n\r\n  // ‚úÖ Populate fields + existing categories when product changes\r\n  useEffect(() => {\r\n    if (!product) return\r\n\r\n    if (modelRef.current) modelRef.current.value = product.model || \"\"\r\n    if (nameRef.current) nameRef.current.value = product.name || \"\"\r\n    if (descriptionRef.current) descriptionRef.current.value = product.description || \"\"\r\n\r\n    // Preload product categories (if any)\r\n    if (product.categories && product.categories.length) {\r\n      setSelectedCategories(product.categories.map(cat => cat._id))\r\n    } else if (product.category?._id) {\r\n      // For backward compatibility (single category)\r\n      setSelectedCategories([product.category._id])\r\n    }\r\n  }, [product])\r\n\r\n  // ‚úÖ Add category to selected list\r\n  const handleSelectCategory = e => {\r\n    const id = e.target.value\r\n    if (id && !selectedCategories.includes(id)) {\r\n      setSelectedCategories([...selectedCategories, id])\r\n    }\r\n  }\r\n\r\n  // ‚úÖ Remove category from tag list\r\n  const removeCategory = id => {\r\n    setSelectedCategories(prev => prev.filter(catId => catId !== id))\r\n  }\r\n\r\n  // ‚úÖ Update product\r\n  const editProduct = async e => {\r\n    e.preventDefault()\r\n\r\n    const formData = new FormData()\r\n    formData.append(\"model\", modelRef.current.value)\r\n    formData.append(\"name\", nameRef.current.value)\r\n    formData.append(\"description\", descriptionRef.current.value)\r\n\r\n    // Append multiple categories\r\n    selectedCategories.forEach(cat => formData.append(\"categories\", cat))\r\n\r\n    if (manualRef.current.files[0]) formData.append(\"manual\", manualRef.current.files[0])\r\n\r\n    try {\r\n      const res = await Client.put(`/products/${product._id}`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        withCredentials: true,\r\n      })\r\n      setProduct(res.data.product)\r\n      handleCloseE()\r\n    } catch (err) {\r\n      console.error(\"Error updating product:\", err)\r\n      alert(\"Failed to update product.\")\r\n    }\r\n  }\r\n\r\n  // ‚úÖ Add new category inline\r\n  const addCategory = async () => {\r\n    try {\r\n      const res = await Client.post(\r\n        \"/products/category\",\r\n        { name: categoryRef.current.value },\r\n        { withCredentials: true }\r\n      )\r\n      setCategories(prev => [...prev, res.data.category])\r\n      categoryRef.current.value = \"\"\r\n      setNewCategory(false)\r\n    } catch (err) {\r\n      console.error(\"Error adding category:\", err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form\r\n        onSubmit={editProduct}\r\n        className=\"flex flex-col my-2 gap-3 p-3 shadow-lg border border-gray-300 rounded-lg w-full max-w-sm mx-auto pt-5 bg-yellow-500\"\r\n      >\r\n        <h1 className=\"text-xl font-bold leading-tight tracking-tight text-gray-900 text-center mb-2\">\r\n          Edit Product\r\n        </h1>\r\n\r\n        {/* Model */}\r\n        <div>\r\n          <label htmlFor=\"model\" className=\"block mb-2 text-sm font-medium text-gray-900\">\r\n            Model\r\n          </label>\r\n          <input\r\n            ref={modelRef}\r\n            type=\"text\"\r\n            id=\"model\"\r\n            className=\"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-yellow-500 focus:border-yellow-500\"\r\n            placeholder=\"Product model\"\r\n          />\r\n        </div>\r\n\r\n        {/* Name */}\r\n        <div>\r\n          <label htmlFor=\"name\" className=\"block mb-2 text-sm font-medium text-gray-900\">\r\n            Name\r\n          </label>\r\n          <input\r\n            ref={nameRef}\r\n            type=\"text\"\r\n            id=\"name\"\r\n            className=\"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs focus:ring-yellow-500 focus:border-yellow-500\"\r\n            placeholder=\"Product name\"\r\n          />\r\n        </div>\r\n\r\n        {/* Description */}\r\n        <div>\r\n          <label htmlFor=\"description\" className=\"block mb-2 text-sm font-medium text-gray-900\">\r\n            Description\r\n          </label>\r\n          <textarea\r\n            ref={descriptionRef}\r\n            id=\"description\"\r\n            rows=\"4\"\r\n            className=\"block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-yellow-500 focus:border-yellow-500\"\r\n            placeholder=\"Product description\"\r\n          ></textarea>\r\n        </div>\r\n\r\n        {/* Categories */}\r\n        <div>\r\n          <label htmlFor=\"categories\" className=\"block mb-2 text-sm font-medium text-gray-900\">\r\n            Categories (Select one or more)\r\n          </label>\r\n\r\n          <div className=\"flex flex-col space-y-2\">\r\n            {/* Dropdown */}\r\n            <select\r\n              id=\"categories\"\r\n              onChange={handleSelectCategory}\r\n              className=\"block w-full p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs\"\r\n            >\r\n              <option value=\"\">--Select Category--</option>\r\n              {categories.map(cat => (\r\n                <option key={cat._id} value={cat._id}>\r\n                  {cat.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n\r\n            {/* Selected category tags */}\r\n            {selectedCategories.length > 0 && (\r\n              <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                {selectedCategories.map(id => {\r\n                  const cat = categories.find(c => c._id === id)\r\n                  return (\r\n                    <span\r\n                      key={id}\r\n                      className=\"flex items-center bg-black text-white px-2 py-1 rounded text-xs\"\r\n                    >\r\n                      {cat?.name || \"Unknown\"}\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeCategory(id)}\r\n                        className=\"ml-1 text-yellow-400 hover:text-red-400\"\r\n                        title=\"Remove\"\r\n                      >\r\n                        ‚úï\r\n                      </button>\r\n                    </span>\r\n                  )\r\n                })}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Add new category inline */}\r\n          <span\r\n            className=\"mx-2 cursor-pointer text-sm underline text-gray-700\"\r\n            onClick={() => setNewCategory(!newCategory)}\r\n          >\r\n            New\r\n          </span>\r\n\r\n          {newCategory && (\r\n            <div className=\"flex mt-2\">\r\n              <input\r\n                type=\"text\"\r\n                id=\"category-name\"\r\n                ref={categoryRef}\r\n                className=\"block p-2 text-gray-900 border border-gray-300 rounded-lg bg-gray-50 text-xs flex-1\"\r\n                placeholder=\"New category name\"\r\n              />\r\n              <button\r\n                onClick={addCategory}\r\n                type=\"button\"\r\n                className=\"h-9 text-white bg-green-700 hover:bg-green-800 font-medium rounded-lg text-sm ml-1 px-3\"\r\n              >\r\n                +\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Manual */}\r\n        <div>\r\n          <label className=\"block mb-2 text-sm font-medium text-gray-900\">Manual</label>\r\n          <input\r\n            ref={manualRef}\r\n            type=\"file\"\r\n            id=\"manual\"\r\n            name=\"manual\"\r\n            className=\"p-1.5 block w-full text-sm text-gray-900 border border-gray-300 rounded-lg cursor-pointer bg-gray-50\"\r\n          />\r\n        </div>\r\n\r\n        {/* Submit */}\r\n        <button\r\n          type=\"submit\"\r\n          className=\"flex justify-center w-full text-white bg-black hover:bg-gray-700 font-medium rounded-lg text-sm px-5 py-2.5 text-center items-center\"\r\n        >\r\n          <svg\r\n            className=\"m-1 w-5 h-5 text-white\"\r\n            aria-hidden=\"true\"\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"currentColor\"\r\n            viewBox=\"0 0 24 24\"\r\n          >\r\n            <path\r\n              fillRule=\"evenodd\"\r\n              d=\"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm11-4.243a1 1 0 1 0-2 0V11H7.757a1 1 0 1 0 0 2H11v3.243a1 1 0 1 0 2 0V13h3.243a1 1 0 1 0 0-2H13V7.757Z\"\r\n              clipRule=\"evenodd\"\r\n            />\r\n          </svg>\r\n          Save Changes\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 429, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 434, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/lib/auth.js"],"sourcesContent":["import Client from \"@/lib/api\"\r\n\r\nexport const LogInUser = async data => {\r\n  try {\r\n    const res = await Client.post(\"/auth/signin\", data, { withCredentials: true })\r\n    return res.data.user || null\r\n  } catch (error) {\r\n    console.error(\"Login error:\", error?.response?.data || error.message)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const CheckSession = async () => {\r\n  try {\r\n    const res = await Client.get(\"/auth/session\", { withCredentials: true })\r\n    return res.data || null\r\n  } catch (error) {\r\n    console.error(\"Session check error:\", error?.response?.data || error.message)\r\n    return null\r\n  }\r\n}\r\n\r\nexport const LogOutUser = async () => {\r\n  try {\r\n    await Client.post(\"/auth/signout\", {}, { withCredentials: true })\r\n    return true\r\n  } catch (error) {\r\n    console.error(\"Logout error:\", error?.response?.data || error.message)\r\n    return false\r\n  }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAEO,MAAM,YAAY,OAAM;IAC7B,IAAI;QACF,MAAM,MAAM,MAAM,kHAAO,IAAI,CAAC,gBAAgB,MAAM;YAAE,iBAAiB;QAAK;QAC5E,OAAO,IAAI,IAAI,CAAC,IAAI,IAAI;IAC1B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,gBAAgB,OAAO,UAAU,QAAQ,MAAM,OAAO;QACpE,OAAO;IACT;AACF;KARa;AAUN,MAAM,eAAe;IAC1B,IAAI;QACF,MAAM,MAAM,MAAM,kHAAO,GAAG,CAAC,iBAAiB;YAAE,iBAAiB;QAAK;QACtE,OAAO,IAAI,IAAI,IAAI;IACrB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB,OAAO,UAAU,QAAQ,MAAM,OAAO;QAC5E,OAAO;IACT;AACF;MARa;AAUN,MAAM,aAAa;IACxB,IAAI;QACF,MAAM,kHAAO,IAAI,CAAC,iBAAiB,CAAC,GAAG;YAAE,iBAAiB;QAAK;QAC/D,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iBAAiB,OAAO,UAAU,QAAQ,MAAM,OAAO;QACrE,OAAO;IACT;AACF;MARa"}},
    {"offset": {"line": 482, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 487, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/context/AuthContext.js"],"sourcesContent":["\"use client\"\r\nimport { createContext, useContext, useState, useEffect } from \"react\"\r\nimport { CheckSession, LogOutUser } from \"@/lib/auth\"\r\n\r\nconst AuthContext = createContext()\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  // üîÅ Automatically check session on load\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      try {\r\n        const session = await CheckSession()\r\n        console.log(\"context :\", session)\r\n        if (session?.user) {\r\n          setUser(session.user)\r\n        } else {\r\n          setUser(null)\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Session check failed:\", err)\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    fetchSession()\r\n  }, [])\r\n\r\n  // üö™ Logout handler\r\n  const logout = async () => {\r\n    try {\r\n      await LogOutUser() // backend clears cookie\r\n      setUser(null)\r\n    } catch (err) {\r\n      console.error(\"Logout failed:\", err)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ user, setUser, logout, loading }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext)\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;AAIA,MAAM,4BAAc;AAEb,SAAS,aAAa,KAAY;QAAZ,EAAE,QAAQ,EAAE,GAAZ;;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,mKAAS;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,mKAAS;IAEvC,yCAAyC;IACzC,oKAAU;QACR,MAAM,eAAe;YACnB,IAAI;gBACF,MAAM,UAAU,MAAM;gBACtB,QAAQ,GAAG,CAAC,aAAa;gBACzB,IAAI,SAAS,MAAM;oBACjB,QAAQ,QAAQ,IAAI;gBACtB,OAAO;oBACL,QAAQ;gBACV;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,yBAAyB;YACzC,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,oBAAoB;IACpB,MAAM,SAAS;QACb,IAAI;YACF,MAAM,wHAAa,wBAAwB;;YAC3C,QAAQ;QACV,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,kBAAkB;QAClC;IACF;IAEA,qBACE,iLAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;YAAQ;QAAQ;kBAC3D;;;;;;AAGP;GAvCgB;KAAA;AAyCT,SAAS;;IACd,OAAO,qKAAW;AACpB;IAFgB"}},
    {"offset": {"line": 558, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 563, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/context/AuthContext.jsx"],"sourcesContent":["\"use client\"\r\nimport { createContext, useContext, useEffect, useState, useCallback } from \"react\"\r\nimport { CheckSession, LogOutUser } from \"@/lib/auth\"\r\n\r\nconst AuthContext = createContext({ user: null, setUser: () => {}, logout: async () => {} })\r\n\r\nexport function AuthProvider({ children }) {\r\n  const [user, setUser] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      const session = await CheckSession()\r\n      setUser(session?.user || null)\r\n    }\r\n    fetchSession()\r\n  }, [])\r\n\r\n  const logout = useCallback(async () => {\r\n    await LogOutUser()\r\n    setUser(null)\r\n    if (typeof window !== \"undefined\") window.location.reload()\r\n  }, [])\r\n\r\n  return <AuthContext.Provider value={{ user, setUser, logout }}>{children}</AuthContext.Provider>\r\n}\r\n\r\nexport const useAuth = () => useContext(AuthContext)\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;;AAIA,MAAM,4BAAc,wKAAc;IAAE,MAAM;IAAM,SAAS,KAAO;IAAG,QAAQ,WAAa;AAAE;AAEnF,SAAS,aAAa,KAAY;QAAZ,EAAE,QAAQ,EAAE,GAAZ;;IAC3B,MAAM,CAAC,MAAM,QAAQ,GAAG,mKAAS;IAEjC,oKAAU;QACR,MAAM,eAAe;YACnB,MAAM,UAAU,MAAM;YACtB,QAAQ,SAAS,QAAQ;QAC3B;QACA;IACF,GAAG,EAAE;IAEL,MAAM,SAAS,sKAAY;QACzB,MAAM;QACN,QAAQ;QACR,IAAI,OAAO,WAAW,aAAa,OAAO,QAAQ,CAAC,MAAM;IAC3D,GAAG,EAAE;IAEL,qBAAO,iLAAC,YAAY,QAAQ;QAAC,OAAO;YAAE;YAAM;YAAS;QAAO;kBAAI;;;;;;AAClE;GAlBgB;KAAA;AAoBT,MAAM,UAAU;;IAAM,OAAA,qKAAW;AAAW;IAAtC"}},
    {"offset": {"line": 619, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 624, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/ProductDetails.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useState, Fragment, useRef } from \"react\"\r\nimport { useRouter } from \"next/navigation\"\r\nimport Client from \"@/lib/api\"\r\nimport { useAuth } from \"@/context/AuthContext\"\r\nimport Dialog from \"@mui/material/Dialog\"\r\nimport DialogActions from \"@mui/material/DialogActions\"\r\nimport DialogTitle from \"@mui/material/DialogTitle\"\r\nimport DialogContent from \"@mui/material/DialogContent\"\r\nimport Button from \"@mui/material/Button\"\r\nimport EditProductForm from \"@/components/EditProductForm\"\r\nimport Link from \"next/link\"\r\n\r\n// ‚úÖ Helper functions\r\nconst slugify = str =>\r\n  str\r\n    ?.toLowerCase()\r\n    .replace(/&/g, \"and\")\r\n    .replace(/[^a-z0-9\\s-]/g, \"\")\r\n    .trim()\r\n    .replace(/\\s+/g, \"-\") || \"\"\r\n\r\nconst deslugify = str =>\r\n  str\r\n    ?.replace(/-/g, \" \")\r\n    .replace(/\\band\\b/gi, \"&\")\r\n    .replace(/\\b\\w/g, c => c.toUpperCase()) || \"\"\r\n\r\nexport default function ProductDetails({ params }) {\r\n  const router = useRouter()\r\n  const { slug, category } = params\r\n  const { user } = useAuth()\r\n\r\n  const [product, setProduct] = useState(null)\r\n  const [mainImage, setMainImage] = useState(null)\r\n  const [clamped, setClamped] = useState(true)\r\n  const [openRemove, setOpenRemove] = useState(false)\r\n  const [openEdit, setOpenEdit] = useState(false)\r\n  const [openAddImage, setOpenAddImage] = useState(false)\r\n  const [uploading, setUploading] = useState(false)\r\n  const descRef = useRef(null)\r\n  const [isClamped, setIsClamped] = useState(false)\r\n  const imageInputRef = useRef(null)\r\n  const [previewImages, setPreviewImages] = useState([])\r\n\r\n  // ‚úÖ Fetch product data\r\n  useEffect(() => {\r\n    const getProduct = async () => {\r\n      try {\r\n        const res = await Client.get(`/products/${slug}`, { withCredentials: true })\r\n        const p = res.data.product\r\n        setProduct(p)\r\n        setMainImage(p?.images?.[0]?.s3Url || p?.image?.s3Url || \"/hebat_product_fill.png\")\r\n      } catch (err) {\r\n        console.error(\"‚ùå Failed to fetch product:\", err)\r\n      }\r\n    }\r\n    getProduct()\r\n  }, [slug])\r\n\r\n  // ‚úÖ Detect clamping\r\n  useEffect(() => {\r\n    const checkClamp = () => {\r\n      if (descRef.current) {\r\n        const el = descRef.current\r\n        setIsClamped(el.scrollHeight > el.clientHeight + 1)\r\n      }\r\n    }\r\n    checkClamp()\r\n    window.addEventListener(\"resize\", checkClamp)\r\n    return () => window.removeEventListener(\"resize\", checkClamp)\r\n  }, [product?.description])\r\n\r\n  // ‚úÖ Remove product\r\n  const handleRemove = async () => {\r\n    try {\r\n      await Client.delete(`/products/${product._id}`, { withCredentials: true })\r\n      setOpenRemove(false)\r\n      router.push(`/products`)\r\n    } catch (err) {\r\n      console.error(\"Error deleting product:\", err)\r\n    }\r\n  }\r\n\r\n  // ‚úÖ Remove a single image\r\n  const handleRemoveImage = async s3Key => {\r\n    const confirmDelete = window.confirm(\"Are you sure you want to remove this image?\")\r\n    if (!confirmDelete) return\r\n    try {\r\n      // üß† Optimistically update UI first\r\n      const updatedImages = product.images.filter(img => img.s3Key !== s3Key)\r\n      setProduct(prev => ({ ...prev, images: updatedImages }))\r\n\r\n      // üß© Update main image if the removed one was active\r\n      if (mainImage && product.images.find(img => img.s3Key === s3Key)?.s3Url === mainImage) {\r\n        if (updatedImages.length > 0) {\r\n          setMainImage(updatedImages[0].s3Url) // next image\r\n        } else {\r\n          setMainImage(null) // fallback\r\n        }\r\n      }\r\n\r\n      // üßæ Call API to remove from backend + S3\r\n      await Client.delete(`/products/${product._id}/image/${encodeURIComponent(s3Key)}`, {\r\n        withCredentials: true,\r\n      })\r\n    } catch (err) {\r\n      console.error(\"‚ùå Error removing image:\", err)\r\n    }\r\n  }\r\n\r\n  // ‚úÖ Handle file selection and preview\r\n  const handlePreviewSelection = e => {\r\n    const files = Array.from(e.target.files)\r\n    if (!files.length) return\r\n\r\n    const previews = files.map(file => ({\r\n      file,\r\n      previewUrl: URL.createObjectURL(file),\r\n    }))\r\n\r\n    setPreviewImages(prev => [...prev, ...previews])\r\n\r\n    // ‚úÖ Reset input so same files can be reselected later\r\n    e.target.value = null\r\n  }\r\n\r\n  // ‚úÖ Handle preview removal\r\n  const handleRemovePreview = index => {\r\n    setPreviewImages(prev => {\r\n      const updated = [...prev]\r\n      URL.revokeObjectURL(updated[index].previewUrl) // cleanup blob\r\n      updated.splice(index, 1)\r\n      return updated\r\n    })\r\n  }\r\n\r\n  // ‚úÖ Add new images\r\n  const handleAddImages = async e => {\r\n    e.preventDefault()\r\n    if (!previewImages.length) return alert(\"Please select at least one image.\")\r\n\r\n    setUploading(true)\r\n    const formData = new FormData()\r\n\r\n    // ‚úÖ Append actual files from state (not just input ref)\r\n    previewImages.forEach(({ file }) => formData.append(\"images\", file))\r\n\r\n    try {\r\n      const res = await Client.post(`/products/${product._id}/images`, formData, {\r\n        headers: { \"Content-Type\": \"multipart/form-data\" },\r\n        withCredentials: true,\r\n      })\r\n\r\n      const updatedProduct = res.data.product\r\n      setProduct(updatedProduct)\r\n\r\n      // ‚úÖ Set new main image if no image existed before\r\n      if ((!product.images || product.images.length === 0) && updatedProduct.images.length > 0) {\r\n        setMainImage(updatedProduct.images[0].s3Url)\r\n      }\r\n\r\n      // üßπ Clean up previews and close dialog\r\n      setPreviewImages([])\r\n      imageInputRef.current.value = \"\"\r\n      setOpenAddImage(false)\r\n    } catch (err) {\r\n      console.error(\"‚ùå Failed to add images:\", err)\r\n      alert(\"Error uploading images\")\r\n    } finally {\r\n      setUploading(false)\r\n    }\r\n  }\r\n\r\n  if (!product)\r\n    return (\r\n      <div className=\"flex justify-center items-center min-h-screen text-gray-700\">\r\n        Loading product...\r\n      </div>\r\n    )\r\n\r\n  const images = product.images?.length ? product.images : product.image ? [product.image] : []\r\n\r\n  return (\r\n    <div className=\"max-w-[85rem] mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n      {/* ‚úÖ Breadcrumb Navigation */}\r\n      <nav className=\"text-sm text-gray-600 mb-6 flex items-center flex-wrap gap-1\">\r\n        <Link href=\"/\" className=\"hover:text-yellow-600 font-medium\">\r\n          Home\r\n        </Link>\r\n        <span>/</span>\r\n        <Link href=\"/products\" className=\"hover:text-yellow-600 font-medium\">\r\n          Products\r\n        </Link>\r\n        <span>/</span>\r\n        <span className=\"text-gray-800 font-semibold\">{product.name}</span>\r\n      </nav>\r\n\r\n      {/* ‚úÖ Admin Controls */}\r\n      {user && (\r\n        <div className=\"mb-6 flex flex-wrap gap-3\">\r\n          <button\r\n            onClick={() => setOpenEdit(true)}\r\n            className=\"text-white bg-green-700 hover:bg-green-600 font-medium rounded-lg text-sm px-5 py-2.5\"\r\n          >\r\n            ‚úèÔ∏è Edit\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setOpenAddImage(true)}\r\n            className=\"text-white bg-blue-700 hover:bg-blue-600 font-medium rounded-lg text-sm px-5 py-2.5\"\r\n          >\r\n            ‚ûï Add Image\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setOpenRemove(true)}\r\n            className=\"text-white bg-red-700 hover:bg-red-600 font-medium rounded-lg text-sm px-5 py-2.5\"\r\n          >\r\n            üóëÔ∏è Remove Product\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* ‚úÖ Product Content */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-10 items-start\">\r\n        {/* üñºÔ∏è Image Gallery */}\r\n        <div className=\"order-1 lg:order-2\">\r\n          {/* Main Image Frame */}\r\n          <div className=\"relative w-full rounded-2xl overflow-hidden shadow-md bg-white border border-gray-200\">\r\n            <img\r\n              src={mainImage || \"/hebat_product_fill.png\"}\r\n              alt={product.name}\r\n              className=\"w-full h-[400px] object-contain bg-white p-2\"\r\n            />\r\n          </div>\r\n\r\n          {/* Thumbnails ‚Äî Always visible, even if only one */}\r\n          {images.length > 0 && (\r\n            <div\r\n              className=\"\r\n        flex gap-3 mt-4 \r\n        overflow-x-auto \r\n        pb-3 pt-1\r\n        scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-transparent\r\n      \"\r\n            >\r\n              {images.map(img => (\r\n                <div\r\n                  key={img.s3Key}\r\n                  className=\"relative flex-shrink-0 bg-white border border-gray-300 rounded-xl p-1 shadow-sm hover:shadow-md transition-all duration-200\"\r\n                  style={{ minWidth: \"88px\" }}\r\n                >\r\n                  {/* Thumbnail */}\r\n                  <img\r\n                    src={img.s3Url}\r\n                    alt={img.name}\r\n                    onClick={() => setMainImage(img.s3Url)}\r\n                    className={`w-20 h-20 rounded-lg object-contain cursor-pointer transition-all duration-200 ${\r\n                      mainImage === img.s3Url\r\n                        ? \"ring-2 ring-yellow-500 scale-105\"\r\n                        : \"hover:scale-105\"\r\n                    }`}\r\n                  />\r\n\r\n                  {/* ‚úÖ Properly aligned remove button */}\r\n                  {user && (\r\n                    <button\r\n                      onClick={() => handleRemoveImage(img.s3Key)}\r\n                      className=\"\r\n        absolute top-1 right-1\r\n        bg-black/70 text-white text-xs \r\n        rounded-full p-1.5\r\n        hover:bg-red-600 shadow-md\r\n        flex items-center justify-center\r\n      \"\r\n                      title=\"Remove image\"\r\n                    >\r\n                      ‚úï\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Details */}\r\n        <div className=\"order-2 lg:order-1\">\r\n          <h1 className=\"block text-2xl font-bold text-yellow-500 mb-3\">{product.name}</h1>\r\n          <p className=\"text-gray-700 text-sm mb-2\">\r\n            <strong>Barcode:</strong> {product.barcode || \"N/A\"}\r\n          </p>\r\n          <p className=\"text-gray-700 text-sm mb-4\">\r\n            <strong>Model:</strong> {product.model || \"N/A\"}\r\n          </p>\r\n\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mb-2\">Description</h2>\r\n          <p\r\n            ref={descRef}\r\n            className={`text-gray-800 mb-4 transition-all duration-300 ${clamped ? \"line-clamp-3\" : \"\"}`}\r\n          >\r\n            {product.description}\r\n          </p>\r\n\r\n          {isClamped && (\r\n            <button\r\n              onClick={() => setClamped(!clamped)}\r\n              className=\"text-yellow-600 hover:underline text-sm font-medium\"\r\n            >\r\n              {clamped ? \"Read more\" : \"Read less\"}\r\n            </button>\r\n          )}\r\n\r\n          <h2 className=\"text-xl font-semibold text-gray-900 mt-6 mb-2\">Manual</h2>\r\n          {product.manual ? (\r\n            <a\r\n              href={product.manual.s3Url}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"inline-flex items-center px-3 py-2 bg-gray-200 rounded hover:bg-gray-300\"\r\n            >\r\n              üìÑ View Manual\r\n            </a>\r\n          ) : (\r\n            <p className=\"text-gray-600 text-sm\">No manual available</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* ‚úÖ Add Image Dialog */}\r\n      <Dialog open={openAddImage} onClose={() => setOpenAddImage(false)}>\r\n        <DialogTitle>Add New Images</DialogTitle>\r\n        <DialogContent>\r\n          <form onSubmit={handleAddImages} className=\"flex flex-col gap-3 mt-2\">\r\n            {/* File input */}\r\n            <input\r\n              ref={imageInputRef}\r\n              type=\"file\"\r\n              multiple\r\n              accept=\"image/*\"\r\n              onChange={handlePreviewSelection}\r\n              className=\"text-sm text-gray-800\"\r\n            />\r\n\r\n            {/* ‚úÖ Image previews */}\r\n            {previewImages.length > 0 && (\r\n              <div className=\"flex flex-wrap gap-3 mt-3\">\r\n                {previewImages.map((img, i) => (\r\n                  <div\r\n                    key={i}\r\n                    className=\"relative w-24 h-24 rounded-lg border border-gray-300 bg-gray-100 overflow-hidden flex items-center justify-center\"\r\n                  >\r\n                    <img\r\n                      src={img.previewUrl}\r\n                      alt={`Preview ${i + 1}`}\r\n                      className=\"object-cover w-full h-full\"\r\n                    />\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleRemovePreview(i)}\r\n                      className=\"absolute top-1 right-1 bg-black/60 text-white text-xs rounded-full p-1 hover:bg-red-600\"\r\n                    >\r\n                      ‚úï\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            <Button\r\n              type=\"submit\"\r\n              variant=\"contained\"\r\n              disabled={uploading || previewImages.length === 0}\r\n            >\r\n              {uploading ? \"Uploading...\" : \"Upload\"}\r\n            </Button>\r\n          </form>\r\n        </DialogContent>\r\n\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenAddImage(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* ‚úÖ Edit & Remove Product Modals */}\r\n      <Dialog open={openEdit} onClose={() => setOpenEdit(false)}>\r\n        <DialogTitle>Edit Product Details</DialogTitle>\r\n        <DialogContent>\r\n          <EditProductForm\r\n            product={product}\r\n            setProduct={setProduct}\r\n            handleCloseE={() => setOpenEdit(false)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenEdit(false)}>Close</Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      <Dialog open={openRemove} onClose={() => setOpenRemove(false)}>\r\n        <DialogTitle>Remove Product From Inventory?</DialogTitle>\r\n        <DialogActions>\r\n          <Button onClick={() => setOpenRemove(false)}>Cancel</Button>\r\n          <Button onClick={handleRemove} color=\"error\">\r\n            Remove\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1294, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}